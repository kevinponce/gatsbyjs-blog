{"componentChunkName":"component---src-templates-blog-post-js","path":"/blog/ruby-use-soap-with-savon/","result":{"data":{"site":{"siteMetadata":{"title":"Kevin Ponce Blog","author":"Kevin Ponce"}},"markdownRemark":{"id":"ec5bb5be-c893-5e55-b864-fd7e296c9917","excerpt":"So recently had to play around with a soap api. It was a little confusing, but after a while it was easy to use. Soap uses the same url endpoint for allâ€¦","html":"<p>So recently had to play around with a soap api. It was a little confusing, but after a while it was easy to use. Soap uses the same url endpoint for all operations, and you pass the operation in the header.</p>\n<p>Before you start working with anything new, it is always best to look at the documentation. In the following examples we are going to use a simple calculator soap api:\n<a href=\"http://www.dneonline.com/calculator.asmx\">http://www.dneonline.com/calculator.asmx</a></p>\n<p>Soap sends and receives xml, which is not fun in ruby. <code class=\"language-text\">Savon</code> makes soap ruby like, and makes it really easy to use.\nHere is how you can list operations in <code class=\"language-text\">Savon</code>:</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">require &#39;savon&#39;\n\nclient = Savon.client(\n  wsdl: &#39;http://www.dneonline.com/calculator.asmx?wsdl&#39;\n)\n\n# provides a list of operations\nputs client.operations</code></pre></div>\n<p>Once you know the operation, you can do the following to execute it:</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">require &#39;savon&#39;\n\nclient = Savon.client(\n  wsdl: &#39;http://www.dneonline.com/calculator.asmx?wsdl&#39;\n)\n\nresponse = client.call(:add, message: {\n  int_a: 4,\n  int_b: 2,\n})\n\nputs response.body[:add_response][:add_result]</code></pre></div>\n<p>This is a basic example, but sometime for authentication, you will need to pass params in the headers. This can easily be done by doing the following:</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">require &#39;savon&#39;\n\nclient = Savon.client(\n  wsdl: &#39;http://www.dneonline.com/calculator.asmx?wsdl&#39;,\n  headers: {\n    &#39;Authorization&#39; =&gt; &#39;your toke would go here&#39;\n  }\n)</code></pre></div>","frontmatter":{"title":"Ruby use Soap with Savon","date":"2019-10-28T22:12:00.121Z","description":"How to use Savon in ruby to talk with a soap server","author":null}}},"pageContext":{"isCreatedByStatefulCreatePages":false,"slug":"/ruby-use-soap-with-savon/","previous":{"fields":{"slug":"/arduino-3-axis-accelerometer/"},"frontmatter":{"title":"Arduino 3 Axis Accelerometer","tags":["arduino"]}},"next":{"fields":{"slug":"/ruby-use-yaml/"},"frontmatter":{"title":"Ruby use Yaml","tags":["ruby","ruby-on-rails"]}}}}}