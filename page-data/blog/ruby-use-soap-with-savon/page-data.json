{"componentChunkName":"component---src-templates-blog-post-js","path":"/blog/ruby-use-soap-with-savon/","webpackCompilationHash":"eebd3378f3a384edbeb9","result":{"data":{"site":{"siteMetadata":{"title":"Kevin Ponce Blog","author":"Kevin Ponce"}},"markdownRemark":{"id":"fe24013f-2e6d-58a1-b002-fcf0dde68207","excerpt":"So recently had to play around with a soap api. It was a little confusing, but after a while it was easy to use. Soap uses the same url endpoint for allâ€¦","html":"<p>So recently had to play around with a soap api.</p>\n<p>It was a little confusing, but after a while it was easy to use.</p>\n<p>Soap uses the same url endpoint for all operations, and you pass the operation in the header.</p>\n<p>Before you start working with anything new, it is always best to look at the documentation.</p>\n<p>In the following examples we are going to use a simple calculator soap api:</p>\n<p><a href=\"http://www.dneonline.com/calculator.asmx\">http://www.dneonline.com/calculator.asmx</a></p>\n<p>Soap sends and receives xml, which is not fun in ruby. </p>\n<p><code class=\"language-text\">Savon</code> makes soap ruby like, and makes it really easy to use.</p>\n<p>Here is how you can list operations in <code class=\"language-text\">Savon</code>:</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">require &#39;savon&#39;\n\nclient = Savon.client(\n  wsdl: &#39;http://www.dneonline.com/calculator.asmx?wsdl&#39;\n)\n\n# provides a list of operations\nputs client.operations</code></pre></div>\n<p>Once you know the operation, you can do the following to execute it:</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">require &#39;savon&#39;\n\nclient = Savon.client(\n  wsdl: &#39;http://www.dneonline.com/calculator.asmx?wsdl&#39;\n)\n\nresponse = client.call(:add, message: {\n  int_a: 4,\n  int_b: 2,\n})\n\nputs response.body[:add_response][:add_result]</code></pre></div>\n<p>This is a basic example, but sometime for authentication, you will need to pass params in the headers. This can easily be done by doing the following:</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">require &#39;savon&#39;\n\nclient = Savon.client(\n  wsdl: &#39;http://www.dneonline.com/calculator.asmx?wsdl&#39;,\n  headers: {\n    &#39;Authorization&#39; =&gt; &#39;your toke would go here&#39;\n  }\n)</code></pre></div>","frontmatter":{"title":"Ruby use Soap with Savon","date":"October 28, 2019","description":null}}},"pageContext":{"isCreatedByStatefulCreatePages":false,"slug":"/ruby-use-soap-with-savon/","previous":{"fields":{"slug":"/ruby-use-yaml/"},"frontmatter":{"title":"Ruby use Yaml","tags":["ruby","ruby-on-rails"]}},"next":null}}}