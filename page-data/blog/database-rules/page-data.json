{"componentChunkName":"component---src-templates-blog-post-js","path":"/blog/database-rules/","result":{"data":{"site":{"siteMetadata":{"title":"Kevin Ponce Blog","author":"Kevin Ponce"}},"markdownRemark":{"id":"5766f881-7a0e-5e41-8d82-804158ad0a64","excerpt":"Here is a list of rules I use when writing database queries.\nThis is a not a complete list. I will be adding more to it as I learn or remember other rules Makeâ€¦","html":"<p>Here is a list of rules I use when writing database queries.\nThis is a not a complete list. I will be adding more to it as I learn or remember other rules</p>\n<ul>\n<li>Make sure you index columns that need to be queried by</li>\n<li>Make sure you query only return the data you need, instead of returning everything.</li>\n<li>If your importing alot of data, make sure you are doing it in batches.</li>\n<li>If your doing statistics, or data sync with 3rd party service make sure you use a read replica.</li>\n<li>Avoid n + 1 queries! For rails, I use bullet and have it run in my CI/CD.</li>\n<li>Avoid doing search queries on that database (<code class=\"language-text\">SELECT &quot;users&quot;.* FROM &quot;users&quot; WHERE (email like &#39;%example%&#39;)</code>), instead use elasticache or algolia.</li>\n<li>Use a cache layer where needed</li>\n<li>Use tools like Data Dog or New Relic to find issues why your queries</li>\n</ul>","frontmatter":{"title":"Database Rules","date":"2020-02-14T22:12:00.121Z","description":"A list of database rules I use when writing code","author":null}}},"pageContext":{"isCreatedByStatefulCreatePages":false,"slug":"/database-rules/","previous":{"fields":{"slug":"/ruby-import-large-data-in-bulk/"},"frontmatter":{"title":"Ruby Import Large Amounts of Data in Bulk","tags":["ruby","ruby-on-rails"]}},"next":{"fields":{"slug":"/react-fragments/"},"frontmatter":{"title":"React Fragments","tags":["javascript","react"]}}}}}