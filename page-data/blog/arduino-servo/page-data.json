{"componentChunkName":"component---src-templates-blog-post-js","path":"/blog/arduino-servo/","webpackCompilationHash":"eebd3378f3a384edbeb9","result":{"data":{"site":{"siteMetadata":{"title":"Kevin Ponce Blog","author":"Kevin Ponce"}},"markdownRemark":{"id":"4731dce5-6468-5c30-98ca-bef84342b280","excerpt":"Before you start using servos with an arduino, you need to download drivers. The servo driver I used was:\n I added it the arduino library folder. Wired Also doâ€¦","html":"<p>Before you start using servos with an arduino, you need to download drivers.</p>\n<p>The servo driver I used was:\n<code class=\"language-text\">https://github.com/adafruit/Adafruit-PWM-Servo-Driver-Library</code></p>\n<p>I added it the arduino library folder.</p>\n<h1>Wired</h1>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">PC9685 VCC -&gt; Arduino 5V\nPC9685 SDA -&gt; Arduino A4\nPC9685 SCW -&gt; Arduino A5\nPC9685 GND -&gt; Arduino GND</code></pre></div>\n<p>Also do not forget to connect PC9685 to a 5V power supply to the green connection.</p>\n<p>Now you can use the following script to control servos.</p>\n<div class=\"gatsby-highlight\" data-language=\"c\"><pre class=\"language-c\"><code class=\"language-c\"><span class=\"token macro property\">#<span class=\"token directive keyword\">include</span> <span class=\"token string\">&lt;Wire.h></span></span>\n<span class=\"token macro property\">#<span class=\"token directive keyword\">include</span> <span class=\"token string\">&lt;Adafruit_PWMServoDriver.h></span></span>\n\nAdafruit_PWMServoDriver pwm <span class=\"token operator\">=</span> <span class=\"token function\">Adafruit_PWMServoDriver</span><span class=\"token punctuation\">(</span><span class=\"token number\">0x40</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token macro property\">#<span class=\"token directive keyword\">define</span> SERVOMIN  125</span>\n<span class=\"token macro property\">#<span class=\"token directive keyword\">define</span> SERVOMAX  575</span>\n\n<span class=\"token comment\">// our servo # counter</span>\nuint8_t servonum <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">void</span> <span class=\"token function\">setup</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  Serial<span class=\"token punctuation\">.</span><span class=\"token function\">begin</span><span class=\"token punctuation\">(</span><span class=\"token number\">9600</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  Serial<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"16 channel Servo test!\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  pwm<span class=\"token punctuation\">.</span><span class=\"token function\">begin</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  \n  pwm<span class=\"token punctuation\">.</span><span class=\"token function\">setPWMFreq</span><span class=\"token punctuation\">(</span><span class=\"token number\">60</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>  <span class=\"token comment\">// Analog servos run at ~60 Hz updates</span>\n\n  <span class=\"token function\">yield</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token comment\">// the code inside loop() has been updated by Robojax</span>\n<span class=\"token keyword\">void</span> <span class=\"token function\">loop</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n\n    pwm<span class=\"token punctuation\">.</span><span class=\"token function\">setPWM</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">125</span> <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token function\">delay</span><span class=\"token punctuation\">(</span><span class=\"token number\">1000</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    pwm<span class=\"token punctuation\">.</span><span class=\"token function\">setPWM</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">575</span> <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token function\">delay</span><span class=\"token punctuation\">(</span><span class=\"token number\">1000</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>","frontmatter":{"title":"Arduino Servo","date":"September 21, 2019","description":null}}},"pageContext":{"isCreatedByStatefulCreatePages":false,"slug":"/arduino-servo/","previous":{"fields":{"slug":"/arduino-do-x-every-y-seconds/"},"frontmatter":{"title":"Arduino Do X Every Y Seconds","tags":["arduino"]}},"next":{"fields":{"slug":"/react-print-pretty-object/"},"frontmatter":{"title":"React Print Pretty Object","tags":["javascript"]}}}}}