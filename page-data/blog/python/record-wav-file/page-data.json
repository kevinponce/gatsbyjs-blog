{"componentChunkName":"component---src-templates-blog-post-js","path":"/blog/python/record-wav-file/","result":{"data":{"site":{"siteMetadata":{"title":"Kevin Ponce Blog","author":"Kevin Ponce"}},"markdownRemark":{"id":"cc8f3c60-5dd2-5679-b45e-7baf63c2023f","excerpt":"How to record wav file using Python. Before you can use the script, you must install dependencies: Install ffmpeg Mac Install pyaudio Script:","html":"<p>How to record wav file using Python.</p>\n<p>Before you can use the script, you must install dependencies:</p>\n<h1>Install ffmpeg</h1>\n<h2>Mac</h2>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">brew install portaudio</code></pre></div>\n<h1>Install pyaudio</h1>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">pip install pyaudio</code></pre></div>\n<h1>Script:</h1>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\"><span class=\"token comment\"># brew install portaudio</span>\n<span class=\"token comment\"># pip install pyaudio</span>\n\n<span class=\"token keyword\">import</span> pyaudio\n<span class=\"token keyword\">import</span> wave\n\nCHUNK <span class=\"token operator\">=</span> <span class=\"token number\">1024</span>\nWIDTH <span class=\"token operator\">=</span> <span class=\"token number\">2</span>\nCHANNELS <span class=\"token operator\">=</span> <span class=\"token number\">2</span>\nRATE <span class=\"token operator\">=</span> <span class=\"token number\">44100</span>\nRECORD_SECONDS <span class=\"token operator\">=</span> <span class=\"token number\">5</span>\nFORMAT <span class=\"token operator\">=</span> pyaudio<span class=\"token punctuation\">.</span>paInt16\n\np <span class=\"token operator\">=</span> pyaudio<span class=\"token punctuation\">.</span>PyAudio<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n\nframes <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span>\nstream <span class=\"token operator\">=</span> p<span class=\"token punctuation\">.</span><span class=\"token builtin\">open</span><span class=\"token punctuation\">(</span><span class=\"token builtin\">format</span><span class=\"token operator\">=</span>p<span class=\"token punctuation\">.</span>get_format_from_width<span class=\"token punctuation\">(</span>WIDTH<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n                channels<span class=\"token operator\">=</span>CHANNELS<span class=\"token punctuation\">,</span>\n                rate<span class=\"token operator\">=</span>RATE<span class=\"token punctuation\">,</span>\n                <span class=\"token builtin\">input</span><span class=\"token operator\">=</span><span class=\"token boolean\">True</span><span class=\"token punctuation\">,</span>\n                output<span class=\"token operator\">=</span><span class=\"token boolean\">False</span><span class=\"token punctuation\">,</span>\n                frames_per_buffer<span class=\"token operator\">=</span>CHUNK<span class=\"token punctuation\">)</span>\n\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"* recording\"</span><span class=\"token punctuation\">)</span>\n\n<span class=\"token keyword\">for</span> i <span class=\"token keyword\">in</span> <span class=\"token builtin\">range</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token builtin\">int</span><span class=\"token punctuation\">(</span>RATE <span class=\"token operator\">/</span> CHUNK <span class=\"token operator\">*</span> RECORD_SECONDS<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n  data <span class=\"token operator\">=</span> stream<span class=\"token punctuation\">.</span>read<span class=\"token punctuation\">(</span>CHUNK<span class=\"token punctuation\">)</span>  <span class=\"token comment\">#read audio stream</span>\n  frames<span class=\"token punctuation\">.</span>append<span class=\"token punctuation\">(</span>data<span class=\"token punctuation\">)</span>\n\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"* done\"</span><span class=\"token punctuation\">)</span>\n\nstream<span class=\"token punctuation\">.</span>stop_stream<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\nstream<span class=\"token punctuation\">.</span>close<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n\np<span class=\"token punctuation\">.</span>terminate<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n\nwf <span class=\"token operator\">=</span> wave<span class=\"token punctuation\">.</span><span class=\"token builtin\">open</span><span class=\"token punctuation\">(</span><span class=\"token string\">'kevin.wav'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'wb'</span><span class=\"token punctuation\">)</span>\nwf<span class=\"token punctuation\">.</span>setnchannels<span class=\"token punctuation\">(</span>CHANNELS<span class=\"token punctuation\">)</span>\nwf<span class=\"token punctuation\">.</span>setsampwidth<span class=\"token punctuation\">(</span>p<span class=\"token punctuation\">.</span>get_sample_size<span class=\"token punctuation\">(</span>FORMAT<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\nwf<span class=\"token punctuation\">.</span>setframerate<span class=\"token punctuation\">(</span>RATE<span class=\"token punctuation\">)</span>\nwf<span class=\"token punctuation\">.</span>writeframes<span class=\"token punctuation\">(</span><span class=\"token string\">b''</span><span class=\"token punctuation\">.</span>join<span class=\"token punctuation\">(</span>frames<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\nwf<span class=\"token punctuation\">.</span>close<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span></code></pre></div>","frontmatter":{"title":"Python record wav file","date":"November 16, 2020","description":"How to record wav file using Python.","author":null}}},"pageContext":{"isCreatedByStatefulCreatePages":false,"slug":"/python/record-wav-file/","previous":{"fields":{"slug":"/python/trim-whitespace-from-mp3/"},"frontmatter":{"title":"Python trim whitespace from mp3","tags":["python"]}},"next":{"fields":{"slug":"/python/convert-wav-to-mp3/"},"frontmatter":{"title":"Python convert wav to mp3","tags":["python"]}}}}}