{"componentChunkName":"component---src-templates-blog-post-js","path":"/blog/ruby-import-large-data-in-bulk/","result":{"data":{"site":{"siteMetadata":{"title":"Kevin Ponce Blog","author":"Kevin Ponce"}},"markdownRemark":{"id":"790ebe94-016b-59ae-86ec-0d5cbcd5cec0","excerpt":"Sometimes you have to import a large amount of data.\nIf you were to do this buret force, you would do it like this: The problem is it will do 10 differentâ€¦","html":"<p>Sometimes you have to import a large amount of data.\nIf you were to do this buret force, you would do it like this:</p>\n<div class=\"gatsby-highlight\" data-language=\"ruby\"><pre class=\"language-ruby\"><code class=\"language-ruby\"><span class=\"token number\">10.</span>times <span class=\"token keyword\">do</span> <span class=\"token operator\">|</span>num<span class=\"token operator\">|</span>\n  <span class=\"token constant\">Example</span><span class=\"token punctuation\">.</span>create<span class=\"token punctuation\">(</span>favorite_numer<span class=\"token punctuation\">:</span> num<span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">end</span></code></pre></div>\n<p>The problem is it will do 10 different transactions.\nThis might not seem bad, but if you were doing a million, it will take a very long time.</p>\n<p>There is an amazing gem <code class=\"language-text\">activerecord-import</code> that makes massive import fast and on a single transaction.\nIt looks like this:</p>\n<div class=\"gatsby-highlight\" data-language=\"ruby\"><pre class=\"language-ruby\"><code class=\"language-ruby\">examples <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span>\n<span class=\"token number\">10.</span>times <span class=\"token keyword\">do</span> <span class=\"token operator\">|</span>num<span class=\"token operator\">|</span>\n  example<span class=\"token punctuation\">.</span>push <span class=\"token constant\">Example</span><span class=\"token punctuation\">.</span><span class=\"token keyword\">new</span><span class=\"token punctuation\">(</span>favorite_numer<span class=\"token punctuation\">:</span> num<span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">end</span>\n\n<span class=\"token constant\">Example</span><span class=\"token punctuation\">.</span>import examples</code></pre></div>\n<p>There you go. It is that simple, and will be extremely fast.</p>","frontmatter":{"title":"Ruby Import Large Amounts of Data in Bulk","date":"January 25, 2020","description":"How to import large amounts of data without abusing your database","author":null}}},"pageContext":{"isCreatedByStatefulCreatePages":false,"slug":"/ruby-import-large-data-in-bulk/","previous":{"fields":{"slug":"/monitor-resque-in-code/"},"frontmatter":{"title":"Monitor Resque In Code","tags":["ruby","ruby-on-rails"]}},"next":{"fields":{"slug":"/arduino-wireless-communicate-to-another-arduino/"},"frontmatter":{"title":"","tags":null}}}}}