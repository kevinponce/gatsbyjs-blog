{"componentChunkName":"component---src-templates-blog-post-js","path":"/blog/raspberry-pi-tensorflow-image-recognition/","webpackCompilationHash":"2be2bc5b132868e5c5b3","result":{"data":{"site":{"siteMetadata":{"title":"Kevin Ponce Blog","author":"Kevin Ponce"}},"markdownRemark":{"id":"a1257365-20c4-5b57-9373-cc0c3bbb875a","excerpt":"Updated Raspberry p Getting tensorflow image recognition is an important building block\nHere are the step I had to do to get it to work: Install Tensorflow goâ€¦","html":"<h3>Updated Raspberry p</h3>\n<p>Getting tensorflow image recognition is an important building block\nHere are the step I had to do to get it to work:</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">$ sudo apt-get update\n$ sudo apt-get dist-upgrade\n$ mkdir tf\n$ cd tf</code></pre></div>\n<h3>Install Tensorflow</h3>\n<p>go to:\n<code class=\"language-text\">https://github.com/lhelontra/tensorflow-on-arm/releases</code></p>\n<p>If the realses are out of date, you will have to manually compile tensorflow.\ncopy url for:\ntensorflow-X.XX.X-cp35-none-linux_armv7l.whl</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">$ wget tensorflow-wheel-url-from-above\n$ sudo pip3 install file-download-from-wget\n$ sudo apt-get install libatlas-base-dev\n$ sudo pip3 install pillow lxml jupyter matplotlib cython\n$ sudo apt-get install python-tk</code></pre></div>\n<h3>Install OpenCV</h3>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">$ sudo apt-get install libjpeg-dev libtiff5-dev libjasper-dev libpng12-dev\n$ sudo apt-get install libavcodec-dev libavformat-dev libswscale-dev libv4l-dev\n$ sudo apt-get install libxvidcore-dev libx264-dev\n$ sudo apt-get install qt4-dev-tools\n$ pip3 install opencv-python</code></pre></div>\n<h3>Compile and Install Protobuf</h3>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">$ sudo apt-get install autoconf automake libtool curl</code></pre></div>\n<p>Go to:\n<code class=\"language-text\">https://github.com/protocolbuffers/protobuf/releases</code></p>\n<p>copy url for:\nprotobuf-all-X.X.X.tar.gz</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">$ wget url-from-protobuf-releases\n$ tar -zxvf protobuf-all-X.x.X.tar.gz\n$ cd protobuf-X.X.X/\n$ ./configure\n$ make\n$ make check\n$ sudo make install\n$ cd python\n$ export LD_LIBRARY_PATH=../src/.libs\n$ python3 setup.py build --cpp_implementation\n$ python3 setup.py test --cpp_implementation\n$ sudo python3 setup.py install --cpp_implementation\n$ export PROTOCOL_BUFFERS_PYTHON_IMPLEMENTATION=cpp\n$ export PROTOCOL_BUFFERS_PYTHON_IMPLEMENTATION_VERSION=3\n$ sudo ldconfig</code></pre></div>\n<p>Now protobuf is installed, you can test it be entering the following command:</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">$ protoc</code></pre></div>\n<p>To get tenorflow working, reboot Raspberry pi</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">$ sudo reboot now</code></pre></div>\n<h3>Setup tensorflow</h3>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">$ mkdir tensorflow1\n$ cd tensorflow1\n$ git clone --recurse-submodules https://github.com/tensorflow/models.git\n$ sudo apt-get install vim\n$ sudo vim ~/.bashrc\n# add the following to the end of the file ~/.bashrc\nexport PYTHONPATH=$PYTHONPATH:/home/pi/tensorflow1/models/research:/home/pi/tensorflow1/models/research/slim</code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">$ cd tensorflow1/models/research/object_detection/</code></pre></div>\n<p>Go to: <code class=\"language-text\">https://github.com/tensorflow/models/blob/master/research/object_detection/g3doc/detection_model_zoo.md</code></p>\n<p>copy the link to <code class=\"language-text\">ssdlite_mobilenet_v2_coco</code></p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">$ wget link-from-about\n$ tar -xzvf file-download-above\n$ cd ~/tensorflow1/models/research\n$ protoc object_detection/protos/*.proto --python_out=.</code></pre></div>\n<h3>Test object detector</h3>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">$ cd ~/tensorflow1/models/research/object_detection\n$ wget https://github.com/EdjeElectronics/TensorFlow-Object-Detection-on-the-Raspberry-Pi/blob/master/Object_detection_picamera.py\n$ python3 Object_detection_picamera.py</code></pre></div>\n<p>Voila</p>","frontmatter":{"title":"Raspberry PI Tensorflow Image Recognition","date":"August 04, 2019","description":null}}},"pageContext":{"isCreatedByStatefulCreatePages":false,"slug":"/raspberry-pi-tensorflow-image-recognition/","previous":{"fields":{"slug":"/raspberry-setup/"},"frontmatter":{"title":"Raspberry Setup","tags":["raspberry"]}},"next":{"fields":{"slug":"/raspberry-lan-osx/"},"frontmatter":{"title":"Raspberry LAN OSX","tags":["raspberry"]}}}}}