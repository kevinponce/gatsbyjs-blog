{"componentChunkName":"component---src-templates-blog-post-js","path":"/blog/ruby/pass-jbuilder-to-gon/","result":{"data":{"site":{"siteMetadata":{"title":"Kevin Ponce Blog","author":"Kevin Ponce"}},"markdownRemark":{"id":"3344314c-9e1b-5a21-915f-38e7bf1d488a","excerpt":"Sometimes in rails you have to pass data from your controller to vanilla JavaScript or ReactJs.\nThis is where gon comes in! It makes it very easy to share railsâ€¦","html":"<p>Sometimes in rails you have to pass data from your controller to vanilla JavaScript or ReactJs.\nThis is where gon comes in! It makes it very easy to share rails objects with JavaScript.\nGon out of the box works great for simple objects, but you do not want to build complex objects a controller.\nYou should always keep your controller thin.</p>\n<p>One way to create complex objects in a controller that is to be shared with Javascript, is to use jbuilder to build the object, and gon has provided a simple way to do so:</p>\n<p><code class=\"language-text\">app/controller/example_controller.rb</code></p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">class ExampleController &lt; ApplicationController\n  def index\n    @name = &#39;hello world&#39;\n    gon.jbuilder template: &#39;app/views/example.json.jbuilder&#39;, as: :example\n  end\nend</code></pre></div>\n<p>Do not forget to add <code class=\"language-text\">render_gon</code> to your view. It is a simple step that is typically missed.\n<code class=\"language-text\">app/views/example/index.html.erb</code></p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">&lt;%= render_gon %&gt;</code></pre></div>\n<p>Here is an example on how to build a json response using jbuilder.\nThis example is very simple, but you can replace it with a complex object you want:</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\"># app/views/example.json.jbuilder\njson.example @name</code></pre></div>\n<p>The last part is simple use it in your JavaScript:</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">gon.example.name</code></pre></div>","frontmatter":{"title":"Pass Jbuilder to gon","date":"November 21, 2019","description":"How to pass data from jbuilder to gon.","author":null}}},"pageContext":{"isCreatedByStatefulCreatePages":false,"slug":"/ruby/pass-jbuilder-to-gon/","previous":{"fields":{"slug":"/ruby/random-location/"},"frontmatter":{"title":"Ruby randomize lat/long","tags":["ruby","ruby-on-rails"]}},"next":{"fields":{"slug":"/arduino/arcade-button/"},"frontmatter":{"title":"Arduino Arcade Button","tags":["arduino","circuit"]}}}}}