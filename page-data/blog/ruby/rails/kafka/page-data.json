{"componentChunkName":"component---src-templates-blog-post-js","path":"/blog/ruby/rails/kafka/","result":{"data":{"site":{"siteMetadata":{"title":"Kevin Ponce Blog","author":"Kevin Ponce"}},"markdownRemark":{"id":"23f2d302-25ef-5017-abb9-720a516e6860","excerpt":"","html":"<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">brew install kafka</code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">zookeeper-server-start /usr/local/etc/kafka/zookeeper.properties &amp; kafka-server-start /usr/local/etc/kafka/server.properties</code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"ruby\"><pre class=\"language-ruby\"><code class=\"language-ruby\"><span class=\"token keyword\">require</span> <span class=\"token string\">'kafka'</span>\n<span class=\"token keyword\">class</span> <span class=\"token class-name\">KafkaClient</span>\n  <span class=\"token keyword\">def</span> <span class=\"token method-definition\"><span class=\"token keyword\">self</span><span class=\"token punctuation\">.</span><span class=\"token function\">client</span></span>\n    <span class=\"token variable\">@client</span> <span class=\"token operator\">||</span><span class=\"token operator\">=</span> <span class=\"token constant\">Kafka</span><span class=\"token punctuation\">.</span><span class=\"token keyword\">new</span><span class=\"token punctuation\">(</span>seed_brokers<span class=\"token punctuation\">:</span> <span class=\"token constant\">ENV</span><span class=\"token punctuation\">[</span><span class=\"token string\">'KAFKA_BROKERS'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>\n  <span class=\"token keyword\">end</span>\n  \n  <span class=\"token keyword\">def</span> <span class=\"token method-definition\"><span class=\"token keyword\">self</span><span class=\"token punctuation\">.</span><span class=\"token function\">produce</span></span><span class=\"token punctuation\">(</span>data<span class=\"token punctuation\">,</span> topic<span class=\"token punctuation\">:</span><span class=\"token punctuation\">)</span>\n    client<span class=\"token punctuation\">.</span>producer<span class=\"token punctuation\">.</span>produce<span class=\"token punctuation\">(</span>data<span class=\"token punctuation\">,</span> topic<span class=\"token punctuation\">:</span> topic<span class=\"token punctuation\">)</span>\n    client<span class=\"token punctuation\">.</span>producer<span class=\"token punctuation\">.</span>deliver_messages\n<span class=\"token keyword\">end</span></code></pre></div>","frontmatter":{"title":"","date":null,"description":null,"author":null}}},"pageContext":{"isCreatedByStatefulCreatePages":false,"slug":"/ruby/rails/kafka/","previous":{"fields":{"slug":"/python/track_mouse/"},"frontmatter":{"title":"Track mouse using python","tags":["python"]}},"next":null}}}